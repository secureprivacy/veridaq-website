@tailwind base;
@tailwind components;
@tailwind utilities;

/* Typography System Variables */
:root {
  /* Heading Sizes */
  --heading-h1-size: 2.25rem;
  --heading-h2-size: 1.5rem;
  --heading-h3-size: 1.25rem;
  --heading-h4-size: 1.125rem;

  /* Heading Weights */
  --heading-h1-weight: 700;
  --heading-h2-weight: 500;
  --heading-h3-weight: 500;
  --heading-h4-weight: 500;

  /* Heading Line Heights */
  --heading-h1-line-height: 1.2;
  --heading-h2-line-height: 1.3;
  --heading-h3-line-height: 1.4;
  --heading-h4-line-height: 1.4;

  /* Heading Spacing */
  --heading-h1-margin-top: 2rem;
  --heading-h1-margin-bottom: 1.5rem;
  --heading-h2-margin-top: 1.5rem;
  --heading-h2-margin-bottom: 1rem;
  --heading-h3-margin-top: 1.25rem;
  --heading-h3-margin-bottom: 0.75rem;
  --heading-h4-margin-top: 1rem;
  --heading-h4-margin-bottom: 0.5rem;

  /* List Styling */
  --list-padding-left: 2rem;
  --list-item-hanging-indent: -1.5rem;
  --list-item-padding-left: 1.5rem;
  --list-item-spacing: 0.5rem;
  --list-margin-bottom: 1.5rem;

  /* Text Colors */
  --text-color-heading: #0B1426;
  --text-color-body: #374151;
}

/* Premium Typography and Spacing */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 100px;
  }

  body {
    font-family: 'Inter', system-ui, sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

/* Premium Component Styles */
@layer components {
  .modern-card {
    @apply bg-white/95 backdrop-blur-xl border border-white/20 shadow-premium;
  }
  
  .modern-input {
    @apply w-full px-4 py-3 bg-white/95 backdrop-blur-sm border border-neutral-200/60 rounded-xl text-neutral-900 placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-300 hover:border-neutral-300 transition-all duration-300 shadow-sm hover:shadow-md;
  }
  
  .btn-primary {
    @apply inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-xl hover:from-primary-700 hover:to-primary-800 hover:shadow-premium hover:scale-[1.02] transition-all duration-300 shadow-lg font-display;
  }
  
  .btn-secondary {
    @apply inline-flex items-center justify-center px-8 py-4 bg-white/95 backdrop-blur-sm text-accent-700 font-semibold rounded-xl border border-neutral-200/60 hover:border-primary-300 hover:bg-primary-50/50 hover:shadow-premium transition-all duration-300 shadow-sm font-display;
  }
  
  .glass-card {
    @apply bg-white/80 backdrop-blur-xl border border-white/30 shadow-glass;
  }
  
  .premium-gradient {
    @apply bg-gradient-to-br from-white via-neutral-50/30 to-white;
  }
  
  .text-gradient {
    @apply bg-gradient-to-r from-neutral-900 via-primary-700 to-neutral-900 bg-clip-text text-transparent font-display;
  }

  /* Typography System */
  .heading-xl {
    @apply font-display text-4xl md:text-5xl lg:text-6xl font-semibold leading-tight tracking-tight;
  }

  .heading-lg {
    @apply font-display text-3xl md:text-4xl font-semibold leading-tight tracking-tight;
  }

  .heading-md {
    @apply font-display text-2xl md:text-3xl font-semibold leading-tight;
  }

  .heading-sm {
    @apply font-display text-xl md:text-2xl font-semibold leading-tight;
  }

  .body-lg {
    @apply font-sans text-lg md:text-xl leading-relaxed;
  }

  .body-base {
    @apply font-sans text-base leading-relaxed;
  }

  .body-sm {
    @apply font-sans text-sm leading-relaxed;
  }
}

/* Premium Prose Styling for Blog Content */
@layer components {
  .prose-enhanced {
    @apply max-w-none leading-relaxed;
    color: var(--text-color-body);
  }

  .prose-enhanced h1 {
    font-size: var(--heading-h1-size);
    font-weight: var(--heading-h1-weight);
    color: var(--text-color-heading);
    margin-bottom: var(--heading-h1-margin-bottom);
    margin-top: var(--heading-h1-margin-top);
    line-height: var(--heading-h1-line-height);
    letter-spacing: -0.025em;
  }

  .prose-enhanced h2 {
    font-size: var(--heading-h2-size);
    font-weight: var(--heading-h2-weight);
    color: var(--text-color-heading);
    margin-bottom: var(--heading-h2-margin-bottom);
    margin-top: var(--heading-h2-margin-top);
    line-height: var(--heading-h2-line-height);
    letter-spacing: -0.02em;
  }

  .prose-enhanced h3 {
    font-size: var(--heading-h3-size);
    font-weight: var(--heading-h3-weight);
    color: var(--text-color-heading);
    margin-bottom: var(--heading-h3-margin-bottom);
    margin-top: var(--heading-h3-margin-top);
    line-height: var(--heading-h3-line-height);
  }

  .prose-enhanced h4 {
    font-size: var(--heading-h4-size);
    font-weight: var(--heading-h4-weight);
    color: var(--text-color-heading);
    margin-bottom: var(--heading-h4-margin-bottom);
    margin-top: var(--heading-h4-margin-top);
    line-height: var(--heading-h4-line-height);
  }

  .prose-enhanced p {
    @apply mb-6 leading-relaxed text-lg;
  }

  /* Professional bullet lists with hanging indent */
  .prose-enhanced ul,
  .prose-enhanced ol {
    margin-bottom: var(--list-margin-bottom);
    padding-left: var(--list-padding-left);
    list-style-position: outside;
  }

  .prose-enhanced ul {
    list-style-type: disc;
  }

  .prose-enhanced ol {
    list-style-type: decimal;
  }

  .prose-enhanced li {
    padding-left: var(--list-item-padding-left);
    margin-bottom: var(--list-item-spacing);
    line-height: 1.7;
  }

  /* Nested lists */
  .prose-enhanced ul ul,
  .prose-enhanced ol ul {
    margin-top: var(--list-item-spacing);
    margin-bottom: 0;
    list-style-type: circle;
  }

  .prose-enhanced ul ol,
  .prose-enhanced ol ol {
    margin-top: var(--list-item-spacing);
    margin-bottom: 0;
  }
  
  .prose-enhanced blockquote {
    @apply border-l-4 border-primary-200 pl-6 py-4 bg-primary-50/50 rounded-r-xl my-8 italic text-neutral-700;
  }
  
  .prose-enhanced code {
    @apply bg-neutral-100 px-2 py-1 rounded-md text-sm font-mono text-neutral-800;
  }
  
  .prose-enhanced pre {
    @apply bg-neutral-900 text-neutral-100 p-6 rounded-xl overflow-x-auto my-8 shadow-lg;
  }
  
  .prose-enhanced img {
    @apply rounded-xl shadow-premium my-8 w-full;
  }
  
  .prose-enhanced a {
    @apply text-primary-600 hover:text-primary-700 font-medium transition-colors underline decoration-primary-200 hover:decoration-primary-400;
  }

  /* Allow underlines in headings when explicitly applied with <u> tags */
  .prose-enhanced h1 u,
  .prose-enhanced h2 u,
  .prose-enhanced h3 u,
  .prose-enhanced h4 u {
    @apply underline;
  }

  /* Links in headings have no underline by default */
  .prose-enhanced h1 a,
  .prose-enhanced h2 a,
  .prose-enhanced h3 a,
  .prose-enhanced h4 a {
    @apply text-primary-600 hover:text-primary-700 font-medium;
    text-decoration: none;
  }

  /* Special callout styles */
  .prose-enhanced .callout {
    @apply flex gap-4 p-6 bg-gradient-to-r from-primary-50 to-primary-100 border border-primary-200 rounded-xl my-8 shadow-sm;
  }
  
  .prose-enhanced .callout-icon {
    @apply text-2xl flex-shrink-0;
  }
  
  .prose-enhanced .callout-content {
    @apply text-primary-800 font-medium;
  }
  
  .prose-enhanced .warning-callout {
    @apply flex gap-4 p-6 bg-gradient-to-r from-warning-50 to-warning-100 border border-warning-200 rounded-xl my-8 shadow-sm;
  }
  
  .prose-enhanced .warning-icon {
    @apply text-2xl flex-shrink-0;
  }
  
  .prose-enhanced .warning-content {
    @apply text-warning-800 font-medium;
  }

  /* Table Styles for Blog Post Content */
  .prose-enhanced table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background-color: #ffffff;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border-radius: 0.5rem;
    overflow: hidden;
  }

  .prose-enhanced table thead {
    background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
  }

  .prose-enhanced table th {
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    color: #1e293b;
    border: 1px solid #e2e8f0;
    background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
  }

  .prose-enhanced table td {
    padding: 12px 16px;
    border: 1px solid #e2e8f0;
    color: #475569;
  }

  .prose-enhanced table tbody tr {
    transition: background-color 0.2s ease;
  }

  .prose-enhanced table tbody tr:hover {
    background-color: #f8fafc;
  }

  /* Responsive table wrapper for mobile */
  @media (max-width: 768px) {
    .prose-enhanced table {
      display: block;
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }
  }
}

/* Premium Animations */
@layer utilities {
  .animate-float-slow {
    animation: float 8s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 3s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from {
      box-shadow: 0 0 20px rgba(2, 132, 199, 0.2);
    }
    to {
      box-shadow: 0 0 40px rgba(2, 132, 199, 0.4);
    }
  }
}

/* Unified Rich Text Editor Styles */
.editor-content {
  @apply text-neutral-700;
}

/* Headings with explicit CSS properties and high specificity to override Tailwind preflight */
[contenteditable] h1,
.editor-content h1 {
  font-size: var(--heading-h1-size) !important;
  font-weight: var(--heading-h1-weight) !important;
  color: var(--text-color-heading) !important;
  margin-bottom: var(--heading-h1-margin-bottom) !important;
  margin-top: var(--heading-h1-margin-top) !important;
  line-height: var(--heading-h1-line-height) !important;
  letter-spacing: -0.025em !important;
}

[contenteditable] h2,
.editor-content h2 {
  font-size: var(--heading-h2-size) !important;
  font-weight: var(--heading-h2-weight) !important;
  color: var(--text-color-heading) !important;
  margin-bottom: var(--heading-h2-margin-bottom) !important;
  margin-top: var(--heading-h2-margin-top) !important;
  line-height: var(--heading-h2-line-height) !important;
  letter-spacing: -0.02em !important;
}

[contenteditable] h3,
.editor-content h3 {
  font-size: var(--heading-h3-size) !important;
  font-weight: var(--heading-h3-weight) !important;
  color: var(--text-color-heading) !important;
  margin-bottom: var(--heading-h3-margin-bottom) !important;
  margin-top: var(--heading-h3-margin-top) !important;
  line-height: var(--heading-h3-line-height) !important;
}

[contenteditable] h4,
.editor-content h4 {
  font-size: var(--heading-h4-size) !important;
  font-weight: var(--heading-h4-weight) !important;
  color: var(--text-color-heading) !important;
  margin-bottom: var(--heading-h4-margin-bottom) !important;
  margin-top: var(--heading-h4-margin-top) !important;
  line-height: var(--heading-h4-line-height) !important;
}

.editor-content p {
  @apply mb-4 leading-relaxed text-base;
}

/* Professional bullet lists with hanging indent */
.editor-content ul,
.editor-content ol {
  margin-bottom: var(--list-margin-bottom);
  padding-left: var(--list-padding-left);
  list-style-position: outside;
}

.editor-content ul {
  list-style-type: disc;
}

.editor-content ol {
  list-style-type: decimal;
}

.editor-content li {
  padding-left: var(--list-item-padding-left);
  margin-bottom: var(--list-item-spacing);
  line-height: 1.7;
}

/* Nested lists */
.editor-content ul ul,
.editor-content ol ul {
  margin-top: var(--list-item-spacing);
  margin-bottom: 0;
  list-style-type: circle;
}

.editor-content ul ol,
.editor-content ol ol {
  margin-top: var(--list-item-spacing);
  margin-bottom: 0;
}

.editor-content strong,
.editor-content b {
  @apply font-bold text-neutral-900;
}

.editor-content em,
.editor-content i {
  @apply italic;
}

.editor-content u {
  @apply underline;
}

.editor-content a {
  @apply text-primary-600 hover:text-primary-700 underline;
}

/* Allow underlines in headings when explicitly applied with <u> tags */
.editor-content h1 u,
.editor-content h2 u,
.editor-content h3 u,
.editor-content h4 u {
  @apply underline;
}

/* Links in headings have no underline by default */
.editor-content h1 a,
.editor-content h2 a,
.editor-content h3 a,
.editor-content h4 a {
  @apply text-primary-600 hover:text-primary-700;
  text-decoration: none;
}

.editor-content br {
  @apply block;
}

/* Unified Rich Text Editor Placeholder */
[contenteditable][data-placeholder]:empty:before {
  content: attr(data-placeholder);
  color: #9CA3AF;
  pointer-events: none;
  display: block;
}

/* Table Styles for Editor */
.editor-content table,
.editor-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
  background-color: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border-radius: 0.5rem;
  overflow: hidden;
}

.editor-content table thead,
.editor-table thead {
  background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
}

.editor-content table th,
.editor-table th {
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  color: #1e293b;
  border: 1px solid #e2e8f0;
  background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
}

.editor-content table td,
.editor-table td {
  padding: 12px 16px;
  border: 1px solid #e2e8f0;
  color: #475569;
}

.editor-content table tbody tr,
.editor-table tbody tr {
  transition: background-color 0.2s ease;
}

.editor-content table tbody tr:hover,
.editor-table tbody tr:hover {
  background-color: #f8fafc;
}

.editor-content table th:focus,
.editor-content table td:focus,
.editor-table th:focus,
.editor-table td:focus {
  outline: 2px solid #3b82f6;
  outline-offset: -2px;
  background-color: #eff6ff;
}

/* Responsive table wrapper */
@media (max-width: 768px) {
  .editor-content table,
  .editor-table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }
}