<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EU AML Regulation vs Directive: Key Differences | Veridaq</title>
  <meta name="description" content="Understand the crucial difference between EU AML Regulations and Directives. Learn how AMLR and AMLD6 affect your compliance implementation before July 2027.">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <link rel="canonical" href="https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences">
  <link rel="stylesheet" href="/blog-static.css">

  <!-- Sitemap discovery for crawlers -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://veridaq.com/sitemap.xml">

  <!-- hreflang tags for multi-language SEO (only for available translations) -->
  <link rel="alternate" hreflang="en" href="https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences" />
  <link rel="alternate" hreflang="da" href="https://veridaq.com/da/blog/eu-aml-regulation-vs-directive-key-differences-danish" />
  <link rel="alternate" hreflang="sv" href="https://veridaq.com/sv/blog/eu-aml-regulation-vs-directive-key-differences-swedish" />
  <link rel="alternate" hreflang="no" href="https://veridaq.com/no/blog/eu-aml-regulation-vs-directive-key-differences-norwegian" />
  <link rel="alternate" hreflang="fi" href="https://veridaq.com/fi/blog/eu-aml-regulation-vs-directive-key-differences-finnish" />
  <link rel="alternate" hreflang="de" href="https://veridaq.com/de/blog/eu-aml-regulation-vs-directive-key-differences-german" />
  <link rel="alternate" hreflang="fr" href="https://veridaq.com/fr/blog/eu-aml-regulation-vs-directive-key-differences-french" />
  <link rel="alternate" hreflang="es" href="https://veridaq.com/es/blog/eu-aml-regulation-vs-directive-key-differences-spanish" />
  <link rel="alternate" hreflang="it" href="https://veridaq.com/it/blog/eu-aml-regulation-vs-directive-key-differences-italian" />
  <link rel="alternate" hreflang="pt" href="https://veridaq.com/pt/blog/eu-aml-regulation-vs-directive-key-differences-portuguese" />
  <link rel="alternate" hreflang="nl" href="https://veridaq.com/nl/blog/eu-aml-regulation-vs-directive-key-differences-dutch" />
  <link rel="alternate" hreflang="x-default" href="https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences" />

  <!-- Open Graph / Social Media Tags -->
  
  <meta property="og:title" content="EU AML Regulation vs Directive: Key Differences">
  <meta property="og:description" content="Understand the crucial difference between EU AML Regulations and Directives. Learn how AMLR and AMLD6 affect your compliance implementation before July 2027.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences">
  <meta property="article:published_time" content="2025-11-24T10:00:23.43+00:00">
  <meta property="article:modified_time" content="2025-11-24T10:00:23.777021+00:00">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="EU AML Regulation vs Directive: Key Differences">
  <meta name="twitter:description" content="Understand the crucial difference between EU AML Regulations and Directives. Learn how AMLR and AMLD6 affect your compliance implementation before July 2027.">
  

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://veridaq.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Blog",
      "item": "https://veridaq.com/blog"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "EU AML Regulation vs Directive: Key Differences"
    }
  ]
}
  </script>

  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "EU AML Regulation vs Directive: Key Differences",
  "alternativeHeadline": "EU AML Regulation vs Directive: Key Differences",
  "description": "Understand the crucial difference between EU AML Regulations and Directives. Learn how AMLR and AMLD6 affect your compliance implementation before July 2027.",
  "datePublished": "2025-11-24T10:00:23.43+00:00",
  "dateModified": "2025-11-24T10:00:23.777021+00:00",
  "author": {
    "@type": "Organization",
    "name": "Veridaq",
    "url": "https://veridaq.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://veridaq.com/images/veridaq-logo-transparent.png"
    },
    "sameAs": [
      "https://www.linkedin.com/company/veridaq"
    ]
  },
  "publisher": {
    "@type": "Organization",
    "name": "Veridaq",
    "url": "https://veridaq.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://veridaq.com/images/veridaq-logo-transparent.png",
      "width": 200,
      "height": 60
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences"
  },
  "articleSection": "EU Compliance",
  "articleBody": "EU AML Regulation vs Directive: The Distinction Every Compliance Team Must UnderstandThe Core Difference ExplainedA Regulation applies directly and uniformly across all EU member states.&nbsp;No national law is needed. The exact same rules apply whether you operate in Germany, France, or Estonia. When the EU AML Regulation (AMLR) takes effect on 10 July 2027, every obliged entity across all 27 Member States will follow identical CDD procedures, risk assessment requirements, and transaction monitoring thresholds.A Directive sets goals that each country must achieve through its own national laws.&nbsp;This means variations exist between countries. Under the Sixth Anti-Money Laundering Directive (AMLD6), each Member State transposes requirements into national legislation, resulting in differences in FIU structures, beneficial ownership registers, and supervisory arrangements. What applies in the Netherlands may differ from what applies in Italy.For compliance teams starting AML implementation projects, this distinction is foundational. AMLR requirements are fixed and published - you can build against them with certainty today. AMLD6 requirements need monitoring as each Member State completes its transposition, potentially requiring local adaptations.&nbsp;EUR-Lex: EU Directives explained;&nbsp;European Commission AML/CFT overviewSide-by-Side ComparisonCharacteristicEU Regulation (AMLR)EU Directive (AMLD6)Legal effectDirectly applicable in all Member StatesRequires transposition into national lawUniformityIdentical rules everywhereNational variations are commonFlexibilityNone - must be applied exactly as writtenMember States choose implementation methodsTimelineApplies automatically from 10 July 2027Member States have transposition deadlineCompliance planningHigh certainty - requirements are fixedRequires monitoring national developmentsExamplesCDD, beneficial ownership, risk assessment, transaction thresholdsFIUs, BO registers, supervisory powersThis table illustrates why the shift matters. Previous AML frameworks (AMLD4, AMLD5) were Directives, creating fragmented implementation across Member States. Banks operating in multiple countries faced different CDD thresholds and beneficial ownership definitions. The AMLR creates a single rulebook eliminating this variation.&nbsp;DLA Piper: New EU AML rulesWhat Each Instrument CoversAMLR: Directly Applicable RulesThe AMLR standardises operational compliance requirements across Europe:Customer Due Diligence: Identification, verification, and ongoing monitoring requirementsBeneficial Ownership: 25 percent threshold, identification and verification obligationsRisk Assessment: Business-wide and individual customer risk scoring frameworksTransaction Monitoring: Uniform thresholds (10,000 EUR cash, 1,000 EUR wire transfers)Record Keeping: Five-year retention requirements after relationship endsThese are precise rules, not principles to be interpreted nationally. Your compliance procedures for beneficial ownership in Germany will be the same as in Portugal or Finland.&nbsp;Accountancy Europe: AMLR FactsheetAMLD6: National Implementation RequiredAMLD6 establishes institutional frameworks that Member States implement through national legislation:Financial Intelligence Units: Structure, powers, and operational proceduresBeneficial Ownership Registers: Access rules, verification mechanisms, data qualitySupervisory Arrangements: Which authority supervises which sectors, sanction regimesPublic-Private Cooperation: Information sharing frameworksYour SAR filing procedures may need national variations even as your CDD framework is standardised under AMLR.&nbsp;eucrim: AMLD6 overviewKey Dates10 July 2027: AMLR becomes directly applicable; AMLD6 transposition deadlineJanuary 2028: AMLA begins direct supervision of approximately 40 high-risk entitiesThe deadline is fixed. Starting implementation in 2025 provides buffer time for testing, training, and incorporating AMLA technical standards issued throughout 2026.&nbsp;AMLA: About pageMoving Forward with ConfidenceThe Regulation versus Directive distinction determines your entire implementation strategy. AMLR gives unprecedented certainty: directly applicable rules identical across 27 Member States, enabling a single compliance architecture for your EU footprint. AMLD6 provisions require adaptive planning for national variations in FIU structures, registers, and supervisory arrangements.Understanding which requirements fall under each instrument lets you plan accordingly. Build AMLR compliance with confidence today - the text is final. Monitor AMLD6 transposition while maintaining flexibility for local customisation. The July 2027 deadline approaches steadily; organisations beginning implementation now will have time for thorough deployment and refinement, while those who wait risk rushing as deadlines approach.",
  "wordCount": 571,
  "keywords": "EU compliance, KYC verification, AML screening, GDPR compliance, financial regulations",
  "inLanguage": "en",
  "url": "https://veridaq.com/blog/eu-aml-regulation-vs-directive-key-differences"
}
  </script>

  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Veridaq",
  "url": "https://veridaq.com",
  "logo": "https://veridaq.com/images/veridaq-logo-transparent.png",
  "description": "EU's leading KYC & AML compliance platform"
}
  </script>

  <!-- DataFeed schema for AI crawler discovery -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DataFeed",
  "dataFeedElement": {
    "@type": "DataFeedItem",
    "item": {
      "@type": "WebSite",
      "url": "https://veridaq.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://veridaq.com/sitemap.xml"
      }
    }
  },
  "includedDataCatalog": "https://veridaq.com/sitemap.xml"
}
  </script>
</head>
<body class="blog-page">
  <header class="blog-hero">
    <div class="blog-container post-hero-content">
      <nav class="breadcrumb-trail" aria-label="Breadcrumb">
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <span class="current">EU AML Regulation vs Directive: Key Differences</span>
      </nav>
      <a class="back-pill" href="/blog/">‚Üê Back to all articles</a>
      <div class="category-badge">EU Compliance</div>
      <h1 class="post-title">EU AML Regulation vs Directive: Key Differences</h1>
      <div class="metadata-chips">
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">üë§</span>Veridaq Team</span>
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">üìÖ</span><time datetime="2025-11-24T10:00:23.43+00:00">November 24, 2025</time></span>
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">‚è±</span>4 min read</span>
      </div>
      <div class="post-excerpt">EU AML Regulations and Directives are fundamentally different legal instruments. The AMLR is directly applicable across all 27 Member States from July 2027, creating uniform CDD, beneficial ownership, and transaction monitoring requirements without national transposition. AMLD6 requires each country to pass implementing laws, meaning FIU structures and beneficial ownership registers vary by jurisdiction. European compliance teams must understand this distinction: build AMLR compliance with certainty now while monitoring AMLD6 national developments. This knowledge shapes implementation strategy for the July 2027 deadline.</div>
    </div>
  </header>

  

  <main class="blog-article">
    <div class="blog-container">
      <article class="blog-prose">
<h1>EU AML Regulation vs Directive: The Distinction Every Compliance Team Must Understand</h1><h2>The Core Difference Explained</h2><p><strong>A Regulation applies directly and uniformly across all EU member states.</strong>&nbsp;No national law is needed. The exact same rules apply whether you operate in Germany, France, or Estonia. When the EU AML Regulation (AMLR) takes effect on 10 July 2027, every obliged entity across all 27 Member States will follow identical CDD procedures, risk assessment requirements, and transaction monitoring thresholds.</p><p><strong>A Directive sets goals that each country must achieve through its own national laws.</strong>&nbsp;This means variations exist between countries. Under the Sixth Anti-Money Laundering Directive (AMLD6), each Member State transposes requirements into national legislation, resulting in differences in FIU structures, beneficial ownership registers, and supervisory arrangements. What applies in the Netherlands may differ from what applies in Italy.</p><p>For compliance teams starting AML implementation projects, this distinction is foundational. AMLR requirements are fixed and published - you can build against them with certainty today. AMLD6 requirements need monitoring as each Member State completes its transposition, potentially requiring local adaptations.&nbsp;<a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=legissum:l14527">EUR-Lex: EU Directives explained</a>;&nbsp;<a href="https://finance.ec.europa.eu/financial-crime/anti-money-laundering-and-countering-financing-terrorism-eu-level_en">European Commission AML/CFT overview</a></p><h2>Side-by-Side Comparison</h2><table><thead><tr><th>Characteristic</th><th>EU Regulation (AMLR)</th><th>EU Directive (AMLD6)</th></tr></thead><tbody><tr><td><strong>Legal effect</strong></td><td>Directly applicable in all Member States</td><td>Requires transposition into national law</td></tr><tr><td><strong>Uniformity</strong></td><td>Identical rules everywhere</td><td>National variations are common</td></tr><tr><td><strong>Flexibility</strong></td><td>None - must be applied exactly as written</td><td>Member States choose implementation methods</td></tr><tr><td><strong>Timeline</strong></td><td>Applies automatically from 10 July 2027</td><td>Member States have transposition deadline</td></tr><tr><td><strong>Compliance planning</strong></td><td>High certainty - requirements are fixed</td><td>Requires monitoring national developments</td></tr><tr><td><strong>Examples</strong></td><td>CDD, beneficial ownership, risk assessment, transaction thresholds</td><td>FIUs, BO registers, supervisory powers</td></tr></tbody></table><p>This table illustrates why the shift matters. Previous AML frameworks (AMLD4, AMLD5) were Directives, creating fragmented implementation across Member States. Banks operating in multiple countries faced different CDD thresholds and beneficial ownership definitions. The AMLR creates a single rulebook eliminating this variation.&nbsp;<a href="https://www.dlapiper.com/en/insights/publications/2024/12/the-new-anti-money-laundering-rules-what-you-need-to-know">DLA Piper: New EU AML rules</a></p><h2>What Each Instrument Covers</h2><h3>AMLR: Directly Applicable Rules</h3><p>The AMLR standardises operational compliance requirements across Europe:</p><ul><li><strong>Customer Due Diligence</strong>: Identification, verification, and ongoing monitoring requirements</li><li><strong>Beneficial Ownership</strong>: 25 percent threshold, identification and verification obligations</li><li><strong>Risk Assessment</strong>: Business-wide and individual customer risk scoring frameworks</li><li><strong>Transaction Monitoring</strong>: Uniform thresholds (10,000 EUR cash, 1,000 EUR wire transfers)</li><li><strong>Record Keeping</strong>: Five-year retention requirements after relationship ends</li></ul><p>These are precise rules, not principles to be interpreted nationally. Your compliance procedures for beneficial ownership in Germany will be the same as in Portugal or Finland.&nbsp;<a href="https://accountancyeurope.eu/wp-content/uploads/2024/12/241218_AML_Regulation_Factsheet_AccountancyEurope.pdf">Accountancy Europe: AMLR Factsheet</a></p><h3>AMLD6: National Implementation Required</h3><p>AMLD6 establishes institutional frameworks that Member States implement through national legislation:</p><ul><li><strong>Financial Intelligence Units</strong>: Structure, powers, and operational procedures</li><li><strong>Beneficial Ownership Registers</strong>: Access rules, verification mechanisms, data quality</li><li><strong>Supervisory Arrangements</strong>: Which authority supervises which sectors, sanction regimes</li><li><strong>Public-Private Cooperation</strong>: Information sharing frameworks</li></ul><p>Your SAR filing procedures may need national variations even as your CDD framework is standardised under AMLR.&nbsp;<a href="https://eucrim.eu/news/new-anti-money-laundering-directive-amld-6/">eucrim: AMLD6 overview</a></p><h2>Key Dates</h2><p><strong>10 July 2027</strong>: AMLR becomes directly applicable; AMLD6 transposition deadline</p><p><strong>January 2028</strong>: AMLA begins direct supervision of approximately 40 high-risk entities</p><p>The deadline is fixed. Starting implementation in 2025 provides buffer time for testing, training, and incorporating AMLA technical standards issued throughout 2026.&nbsp;<a href="https://www.amla.europa.eu/about-amla_en">AMLA: About page</a></p><h2>Moving Forward with Confidence</h2><p>The Regulation versus Directive distinction determines your entire implementation strategy. AMLR gives unprecedented certainty: directly applicable rules identical across 27 Member States, enabling a single compliance architecture for your EU footprint. AMLD6 provisions require adaptive planning for national variations in FIU structures, registers, and supervisory arrangements.</p><p>Understanding which requirements fall under each instrument lets you plan accordingly. Build AMLR compliance with confidence today - the text is final. Monitor AMLD6 transposition while maintaining flexibility for local customisation. The July 2027 deadline approaches steadily; organisations beginning implementation now will have time for thorough deployment and refinement, while those who wait risk rushing as deadlines approach.</p>
      </article>

      <section class="share-strip" aria-label="Share this article">
        <div>
          <h3>Share this article</h3>
          <p>Help others stay compliant with EU regulations</p>
        </div>
        <div class="share-links">
          <a class="share-pill" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fveridaq.com%2Fblog%2Feu-aml-regulation-vs-directive-key-differences" target="_blank" rel="noopener" aria-label="Share on LinkedIn">in</a>
          <a class="share-pill" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fveridaq.com%2Fblog%2Feu-aml-regulation-vs-directive-key-differences&text=EU%20AML%20Regulation%20vs%20Directive%3A%20Key%20Differences" target="_blank" rel="noopener" aria-label="Share on Twitter">X</a>
          <a class="share-pill" href="mailto:?subject=EU%20AML%20Regulation%20vs%20Directive%3A%20Key%20Differences&body=I%20thought%20you%20might%20find%20this%20EU%20compliance%20article%20interesting%3A%20https%3A%2F%2Fveridaq.com%2Fblog%2Feu-aml-regulation-vs-directive-key-differences"  aria-label="Share on Email">@</a>
        </div>
      </section>

      <section class="related-section">
        <h3>Related Articles</h3>
        <div class="related-grid">
      <a class="related-card" href="/blog/eu-travel-rule-2025-tfr-compliance-guide-for-banks-casps/">
        <span> EU Travel Rule 2025: TFR Compliance Guide for Banks &amp; CASPs</span>
        <p>Complete guide to EU Travel Rule compliance: TFR requirements, July 2025 deadline, penalties, and implementation strategies for banks and crypto exchanges.</p>
      </a>
    

      <a class="related-card" href="/blog/the-true-cost-of-aml-noncompliance-for-eu-banks-2025/">
        <span>The True Cost of AML Non‚ÄëCompliance for EU Banks‚ÄØ2025</span>
        <p>AML failures in 2025 cost EU banks up to ‚Ç¨150M‚Äî3‚Äì5x the fine. TD Bank‚Äôs $3B penalty shows the true scale of risk. Learn the real cost of non‚Äëcompliance.</p>
      </a>
    

      <a class="related-card" href="/blog/how-eu-banks-can-avoid-45m-in-aml-fines/">
        <span>How EU Banks Can Avoid ‚Ç¨45M+ in AML Fines</span>
        <p>By replacing manual KYC with automated pKYC platforms like Veridaq, EU banks can meet Article 26 deadlines, cut costs and satisfy AMLA scrutiny.</p>
      </a>
    </div>
      </section>

      <section class="cta-block">
        <div class="cta-icon" aria-hidden="true">‚ö°</div>
        <h3>Ready to implement these compliance strategies?</h3>
        <p>Our compliance experts can help you implement the strategies discussed in this article. Book a consultation to get personalized guidance.</p>
        <a class="cta-button" href="#contact">Get Expert Consultation ‚Üí</a>
      </section>
    </div>
  </main>

  
    <footer class="site-footer">
      <div class="blog-container">
        <div class="site-footer__grid">
          <div class="site-footer__brand">
            <a class="site-logo" href="/" aria-label="Company">
              <img src="/images/veridaq-logo-transparent.png" alt="Company" width="128" height="32">
            </a>
            <p class="site-footer__description">Veridaq delivers AI-powered compliance solutions that are 10x faster with 90% fewer false positives. Complete AML Suite for enterprises, KYC Lite for growth companies.</p>
            <div class="site-footer__contact">
              <div class="site-footer__contact-item">sales@veridaq.com</div>
              <div class="site-footer__contact-item">+45 31272726</div>
              <div class="site-footer__contact-item">Fruebjergvej 3<br>2100 Copenhagen<br>Denmark</div>
            </div>
          </div>
          <div>
            <h3 class="site-footer__heading">AI-Powered Solutions</h3>
            <ul class="site-footer__list">
              <li><a href="/#features">KYC Lite</a></li>
              <li><a href="/#features">Complete AML Suite</a></li>
              <li><a href="/#eu-compliance">EU AMLR 2027 Native</a></li>
              <li><a href="/#features">Instant Document Verification</a></li>
              <li><a href="/#features">Behavioral AI Monitoring</a></li>
              <li><a href="/#features">Predictive Risk Engine</a></li>
            </ul>
          </div>
          <div>
            <h3 class="site-footer__heading">Industries</h3>
            <ul class="site-footer__list">
              <li><a href="/#industries">Traditional Banking</a></li>
              <li><a href="/#industries">FinTech &amp; Neobanks</a></li>
              <li><a href="/#industries">Crypto &amp; Digital Assets</a></li>
              <li><a href="/#industries">High-Value Real Estate</a></li>
              <li><a href="/#industries">Gaming &amp; iGaming</a></li>
              <li><a href="/#industries">Marketplaces &amp; E-commerce</a></li>
            </ul>
          </div>
          <div>
            <h3 class="site-footer__heading">Company</h3>
            <ul class="site-footer__list">
              <li><a href="/blog/">Compliance Insights</a></li>
              <li><a href="/#benefits">Why Veridaq</a></li>
              <li><a href="/#contact">Book Demo</a></li>
              <li><a href="/privacy-policy">Privacy Policy</a></li>
              <li><a href="/terms-of-service">Terms of Service</a></li>
              <li><a href="/privacy-by-design">Privacy by Design</a></li>
            </ul>
          </div>
        </div>
        <div class="site-footer__bottom">
          <div class="site-footer__copyright">¬© 2025 Veridaq. All rights reserved. | AI-Powered Compliance Platform</div>
          <div class="site-footer__bottom-links">
            <a href="#">Bank-Grade Security</a>
            <a href="#">AMLR 2027 Ready</a>
            <a href="#">Status</a>
            <a class="emphasis" href="/#contact">Book Your Demo</a>
          </div>
        </div>
      </div>
    </footer>
  
  
    <script type="module">
      import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

      const SUPABASE_URL = "https://rjncawbywidrtwcprfgw.supabase.co";
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqbmNhd2J5d2lkcnR3Y3ByZmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4OTcyMzgsImV4cCI6MjA3MjQ3MzIzOH0.vp8ZGIhRDvJrun3YoTJLJJH8P5Dx2SheEltVBXhujjc";
      const LANGUAGE_OPTIONS = [{"code":"en","name":"English","flag":"üá¨üáß"},{"code":"da","name":"Danish","flag":"üá©üá∞"},{"code":"sv","name":"Swedish","flag":"üá∏üá™"},{"code":"no","name":"Norwegian","flag":"üá≥üá¥"},{"code":"fi","name":"Finnish","flag":"üá´üáÆ"},{"code":"de","name":"German","flag":"üá©üá™"},{"code":"fr","name":"French","flag":"üá´üá∑"},{"code":"es","name":"Spanish","flag":"üá™üá∏"},{"code":"it","name":"Italian","flag":"üáÆüáπ"},{"code":"pt","name":"Portuguese","flag":"üáµüáπ"},{"code":"nl","name":"Dutch","flag":"üá≥üá±"}];
      const SUPPORTED_LANGUAGES = ["en","da","sv","no","fi","de","fr","es","it","pt","nl"];
      const PAGE_CONTEXT = {"currentLanguage":"en","pageType":"post","currentSlug":"eu-aml-regulation-vs-directive-key-differences","availableTranslations":{"nl":"eu-aml-regulation-vs-directive-key-differences-dutch","de":"eu-aml-regulation-vs-directive-key-differences-german","pt":"eu-aml-regulation-vs-directive-key-differences-portuguese","fi":"eu-aml-regulation-vs-directive-key-differences-finnish","it":"eu-aml-regulation-vs-directive-key-differences-italian","da":"eu-aml-regulation-vs-directive-key-differences-danish","sv":"eu-aml-regulation-vs-directive-key-differences-swedish","no":"eu-aml-regulation-vs-directive-key-differences-norwegian","fr":"eu-aml-regulation-vs-directive-key-differences-french","es":"eu-aml-regulation-vs-directive-key-differences-spanish","en":"eu-aml-regulation-vs-directive-key-differences"}};
      const LANGUAGE_FLAGS = {"en":"üá¨üáß","da":"üá©üá∞","sv":"üá∏üá™","no":"üá≥üá¥","fi":"üá´üáÆ","de":"üá©üá™","fr":"üá´üá∑","es":"üá™üá∏","it":"üáÆüáπ","pt":"üáµüáπ","nl":"üá≥üá±"};
      const PREFERENCE_KEY = 'preferredLanguage';

      const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

      const normalizeLanguage = (code) => {
        if (!code) return 'en';
        const base = code.toLowerCase().split('-')[0];
        return SUPPORTED_LANGUAGES.includes(base) ? base : 'en';
      };

      const getLanguageFromPath = () => {
        const segments = window.location.pathname.split('/').filter(Boolean);
        if (segments.length > 0 && SUPPORTED_LANGUAGES.includes(segments[0])) {
          return segments[0];
        }
        return 'en';
      };

      const findTranslatedPostSlug = async (currentSlug, currentLang, targetLang) => {
        try {
          if (currentLang === targetLang) return currentSlug;

          if (currentLang === 'en') {
            const { data: postData } = await supabase
              .from('posts')
              .select('id')
              .eq('slug', currentSlug)
              .eq('status', 'published')
              .maybeSingle();

            if (!postData?.id) return null;

            const { data } = await supabase
              .from('post_translations')
              .select('slug')
              .eq('language_code', targetLang)
              .eq('published', true)
              .eq('translation_status', 'completed')
              .eq('post_id', postData.id)
              .maybeSingle();

            return data?.slug || null;
          }

          if (targetLang === 'en') {
            const { data, error } = await supabase
              .from('post_translations')
              .select('post_id')
              .eq('slug', currentSlug)
              .eq('language_code', currentLang)
              .eq('published', true)
              .maybeSingle();

            if (error || !data?.post_id) return null;

            const { data: postData } = await supabase
              .from('posts')
              .select('slug')
              .eq('id', data.post_id)
              .eq('status', 'published')
              .maybeSingle();

            return postData?.slug || null;
          }

          const { data: translationData, error: translationError } = await supabase
            .from('post_translations')
            .select('post_id')
            .eq('slug', currentSlug)
            .eq('language_code', currentLang)
            .eq('published', true)
            .maybeSingle();

          if (translationError || !translationData?.post_id) return null;

          const { data: targetData } = await supabase
            .from('post_translations')
            .select('slug')
            .eq('post_id', translationData.post_id)
            .eq('language_code', targetLang)
            .eq('published', true)
            .eq('translation_status', 'completed')
            .maybeSingle();

          return targetData?.slug || null;
        } catch (error) {
          console.error('Error finding translated post:', error);
          return null;
        }
      };

      const fetchAvailableTranslations = async (currentSlug, currentLang) => {
        try {
          const normalizedCurrent = normalizeLanguage(currentLang);
          let postId = null;

          if (normalizedCurrent === 'en') {
            const { data } = await supabase
              .from('posts')
              .select('id')
              .eq('slug', currentSlug)
              .eq('status', 'published')
              .maybeSingle();

            postId = data?.id || null;
          } else {
            const { data } = await supabase
              .from('post_translations')
              .select('post_id')
              .eq('slug', currentSlug)
              .eq('language_code', normalizedCurrent)
              .eq('published', true)
              .maybeSingle();

            postId = data?.post_id || null;
          }

          if (!postId) return {};

          const translationMap = {};

          const { data: translations } = await supabase
            .from('post_translations')
            .select('language_code, slug')
            .eq('post_id', postId)
            .eq('published', true)
            .eq('translation_status', 'completed');

          translations?.forEach(entry => {
            const baseLang = normalizeLanguage(entry.language_code);
            translationMap[baseLang] = entry.slug;
          });

          const { data: englishPost } = await supabase
            .from('posts')
            .select('slug')
            .eq('id', postId)
            .eq('status', 'published')
            .maybeSingle();

          if (englishPost?.slug) {
            translationMap.en = englishPost.slug;
          }

          return translationMap;
        } catch (error) {
          console.error('Error loading available translations:', error);
          return {};
        }
      };

      const closeMenus = () => {
        document.querySelectorAll('.language-switcher__menu').forEach(menu => {
          menu.setAttribute('hidden', '');
        });
        document.querySelectorAll('.language-switcher__toggle').forEach(toggle => {
          toggle.setAttribute('aria-expanded', 'false');
        });
      };

      const updateActiveLanguage = (language) => {
        const normalized = normalizeLanguage(language);
        document.querySelectorAll('.language-switcher').forEach((switcher) => {
          switcher.setAttribute('data-current-language', normalized);
          const toggleText = switcher.querySelector('.language-switcher__text');
          const toggleFlag = switcher.querySelector('.language-switcher__flag');
          const activeOption = LANGUAGE_OPTIONS.find(opt => opt.code === normalized) || LANGUAGE_OPTIONS[0];

          if (toggleText) toggleText.textContent = activeOption?.name || 'English';
          if (toggleFlag) toggleFlag.textContent = activeOption?.flag || LANGUAGE_FLAGS[normalized] || 'üåê';

          switcher.querySelectorAll('.language-switcher__option').forEach(option => {
            const optionLang = option.getAttribute('data-language');
            if (optionLang === normalized) {
              option.classList.add('is-active');
              option.setAttribute('aria-selected', 'true');
            } else {
              option.classList.remove('is-active');
              option.removeAttribute('aria-selected');
            }
          });
        });
      };

      const filterAvailableLanguages = (availableMap = {}) => {
        const availableLanguages = Object.keys(availableMap);
        const restrictOptions = PAGE_CONTEXT.pageType === 'post' && availableLanguages.length > 0;

        document.querySelectorAll('.language-switcher__option').forEach(option => {
          const optionLang = option.getAttribute('data-language');
          if (restrictOptions && !availableLanguages.includes(optionLang)) {
            option.setAttribute('hidden', '');
          } else {
            option.removeAttribute('hidden');
          }
        });
      };

        const handleNavigation = async (targetLanguage) => {
          const baseLanguage = normalizeLanguage(targetLanguage);
          const pathSegments = window.location.pathname.split('/').filter(Boolean);
          const supportedLanguageCodes = SUPPORTED_LANGUAGES.filter(lang => lang !== 'en');

          let currentLang = 'en';
          let pathAfterLang = [...pathSegments];

          if (pathSegments.length > 0 && supportedLanguageCodes.includes(pathSegments[0])) {
            currentLang = pathSegments[0];
            pathAfterLang = pathSegments.slice(1);
          }

          const isBlogPost = pathAfterLang.length >= 2 && pathAfterLang[0] === 'blog' && pathAfterLang[1];
          const isBlogListing = pathAfterLang.length === 1 && pathAfterLang[0] === 'blog';

          if (isBlogPost) {
            const currentSlug = pathAfterLang[1];
            const translatedSlug = await findTranslatedPostSlug(currentSlug, currentLang, baseLanguage);

            if (translatedSlug) {
              const newPath = baseLanguage === 'en'
                ? '/blog/' + translatedSlug + '/'
                : '/' + baseLanguage + '/blog/' + translatedSlug + '/';
              window.location.assign(newPath);
              return;
            }

            const fallbackPath = baseLanguage === 'en'
              ? '/blog/'
              : '/' + baseLanguage + '/blog/';
            window.location.assign(fallbackPath);
            return;
          }

          if (isBlogListing) {
            const listingPath = baseLanguage === 'en'
              ? '/blog/'
              : '/' + baseLanguage + '/blog/';
            window.location.assign(listingPath);
            return;
          }

          const defaultPath = baseLanguage === 'en' ? '/' : '/' + baseLanguage + '/';
          window.location.assign(defaultPath);
        };

      const buildMenus = (availableTranslations = {}) => {
        document.querySelectorAll('.language-switcher').forEach((switcher) => {
          const toggle = switcher.querySelector('.language-switcher__toggle');
          const menu = switcher.querySelector('.language-switcher__menu');

          if (!toggle || !menu) return;

          const savedPreference = normalizeLanguage(localStorage.getItem(PREFERENCE_KEY) || PAGE_CONTEXT.currentLanguage);
          switcher.setAttribute('data-current-language', savedPreference);
          updateActiveLanguage(savedPreference);

          toggle.addEventListener('click', (event) => {
            event.stopPropagation();
            const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
            closeMenus();
            if (!isExpanded) {
              menu.removeAttribute('hidden');
              toggle.setAttribute('aria-expanded', 'true');
            }
          });

          switcher.querySelectorAll('.language-switcher__option').forEach(option => {
            option.addEventListener('click', async () => {
              const language = option.getAttribute('data-language');
              localStorage.setItem(PREFERENCE_KEY, language);
              updateActiveLanguage(language);
              closeMenus();
              await handleNavigation(language);
            });
          });
        });

        filterAvailableLanguages(availableTranslations);
      };

      document.addEventListener('click', (event) => {
        const isMenuClick = event.target.closest('.language-switcher');
        if (!isMenuClick) {
          closeMenus();
        }
      });

      document.addEventListener('keyup', (event) => {
        if (event.key === 'Escape') closeMenus();
      });

      const setupHeaderToggle = () => {
        const toggle = document.querySelector('.site-header__menu-toggle');
        const mobileMenu = document.querySelector('[data-mobile-menu]');

        if (!toggle || !mobileMenu) return;

        toggle.addEventListener('click', () => {
          const isOpen = mobileMenu.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
          if (isOpen) {
            document.body.classList.add('menu-open');
          } else {
            document.body.classList.remove('menu-open');
          }
        });
      };

      const initialize = async () => {
        const detectedLanguage = normalizeLanguage(getLanguageFromPath());
        PAGE_CONTEXT.currentLanguage = detectedLanguage;

        let availableTranslations = PAGE_CONTEXT.availableTranslations || {};

        if (PAGE_CONTEXT.pageType === 'post' && PAGE_CONTEXT.currentSlug) {
          const latestTranslations = await fetchAvailableTranslations(PAGE_CONTEXT.currentSlug, detectedLanguage);
          availableTranslations = Object.keys(latestTranslations).length > 0 ? latestTranslations : availableTranslations;
        }

        buildMenus(availableTranslations);
        setupHeaderToggle();
      };

      initialize();
    </script>
  
</body>
</html>