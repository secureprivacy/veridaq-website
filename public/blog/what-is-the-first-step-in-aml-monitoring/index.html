<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>What Is the First Step in AML Monitoring? | Veridaq</title>
  <meta name="description" content="It‚Äôs adopting a risk-based approach to customer data to focus on key risks, ensure compliance, and strengthen AML defenses.">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <link rel="canonical" href="https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring">
  <link rel="stylesheet" href="/blog-static.css">

  <!-- Sitemap discovery for crawlers -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://veridaq.com/sitemap.xml">

  <!-- hreflang tags for multi-language SEO (only for available translations) -->
  <link rel="alternate" hreflang="en" href="https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring" />
  <link rel="alternate" hreflang="da" href="https://veridaq.com/da/blog/hvad-er-frste-skridt-i-aml-overvagning-for-banker" />
  <link rel="alternate" hreflang="sv" href="https://veridaq.com/sv/blog/vad-ar-forsta-steget-i-aml-overvakning-for-banker" />
  <link rel="alternate" hreflang="no" href="https://veridaq.com/no/blog/hva-er-frste-steg-i-aml-overvaking-for-banker" />
  <link rel="alternate" hreflang="fi" href="https://veridaq.com/fi/blog/mika-on-ensimmainen-askel-aml-seurannassa-pankeille" />
  <link rel="alternate" hreflang="de" href="https://veridaq.com/de/blog/was-ist-der-erste-schritt-der-aml-uberwachung-fur-banken" />
  <link rel="alternate" hreflang="fr" href="https://veridaq.com/fr/blog/quelle-est-la-1ere-etape-de-la-surveillance-aml-pour-banques" />
  <link rel="alternate" hreflang="es" href="https://veridaq.com/es/blog/quelle-est-la-1ere-etape-de-la-surveillance-aml-pour-banques" />
  <link rel="alternate" hreflang="it" href="https://veridaq.com/it/blog/qual-e-il-primo-passo-nel-monitoraggio-aml-per-banche" />
  <link rel="alternate" hreflang="pt" href="https://veridaq.com/pt/blog/qual-e-o-1-passo-na-monitorizacao-aml-para-bancos" />
  <link rel="alternate" hreflang="nl" href="https://veridaq.com/nl/blog/was-ist-der-erste-schritt-der-aml-uberwachung-fur-banken" />
  <link rel="alternate" hreflang="x-default" href="https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring" />

  <!-- Open Graph / Social Media Tags -->
  
  <meta property="og:title" content="What Is the First Step in AML Monitoring?">
  <meta property="og:description" content="It‚Äôs adopting a risk-based approach to customer data to focus on key risks, ensure compliance, and strengthen AML defenses.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring">
  <meta property="article:published_time" content="2025-11-11T13:36:15.257+00:00">
  <meta property="article:modified_time" content="2025-11-11T13:36:15.438815+00:00">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="What Is the First Step in AML Monitoring?">
  <meta name="twitter:description" content="It‚Äôs adopting a risk-based approach to customer data to focus on key risks, ensure compliance, and strengthen AML defenses.">
  

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://veridaq.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Blog",
      "item": "https://veridaq.com/blog"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "What Is the First Step in AML Monitoring?"
    }
  ]
}
  </script>

  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "What Is the First Step in AML Monitoring?",
  "alternativeHeadline": "What Is the First Step in AML Monitoring?",
  "description": "It‚Äôs adopting a risk-based approach to customer data to focus on key risks, ensure compliance, and strengthen AML defenses.",
  "datePublished": "2025-11-11T13:36:15.257+00:00",
  "dateModified": "2025-11-11T13:36:15.438815+00:00",
  "author": {
    "@type": "Organization",
    "name": "Veridaq",
    "url": "https://veridaq.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://veridaq.com/images/veridaq-logo-transparent.png"
    },
    "sameAs": [
      "https://www.linkedin.com/company/veridaq"
    ]
  },
  "publisher": {
    "@type": "Organization",
    "name": "Veridaq",
    "url": "https://veridaq.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://veridaq.com/images/veridaq-logo-transparent.png",
      "width": 200,
      "height": 60
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring"
  },
  "articleSection": "EU Compliance",
  "articleBody": "\n\nWhat is the First Step in Transaction Monitoring for AML? A Practical Guide for BanksIn the fast-paced world of European finance, effective Anti-Money Laundering (AML) transaction monitoring is not just a regulatory requirement; it's a critical defense against financial crime. With regulations like the 6th Anti-Money Laundering Directive (6AMLD) in full effect and the upcoming Anti-Money Laundering Authority (AMLA) set to unify supervision, EU banks are under more pressure than ever to have robust systems in place. So, what is the very first step to getting it right?The first step in transaction monitoring is not a single action but a foundational process:&nbsp;adopting a risk-based approach to assess, collect, and profile customer data.&nbsp;This initial phase is the bedrock of an effective AML compliance program, enabling banks to distinguish between normal and suspicious behavior with greater accuracy and efficiency. Without this, monitoring becomes a costly and ineffective check-box exercise that fails to keep pace with sophisticated financial criminals.Step 1: Establish a Risk-Based FrameworkBefore you can effectively monitor transactions, you must understand and categorize the specific money laundering and terrorist financing risks your institution faces. A risk-based approach is no longer optional; it is a core expectation from EU regulators, including the&nbsp;European Banking Authority (EBA). This means moving away from a one-size-fits-all strategy and tailoring your monitoring efforts to where the risk is greatest.Platform must:Ingest and analyze various risk factors, including customer risk profiles (e.g., PEP status), geographical locations, and the types of products and services used.Allow for the dynamic configuration of risk-based rules and thresholds that can be adjusted as risk appetites and regulatory requirements change.Automatically segment customers into clear risk categories (e.g., Low, Medium, High, Critical) to ensure that due diligence is proportionate to the level of risk.Implication:&nbsp;A risk-based framework allows you to focus your valuable compliance resources on the highest-risk areas. This not only improves the efficiency of your compliance team but also significantly enhances the effectiveness of your detection efforts. According to&nbsp;guidance from the Financial Action Task Force (FATF), such an approach is fundamental to the effective implementation of AML controls, ensuring that significant threats are not lost in the noise of low-risk alerts.Step 2: Comprehensive Data Collection and ProfilingYour monitoring system is only as good as the data it analyzes. The process starts with robust Customer Due Diligence (CDD) at onboarding and continues throughout the customer lifecycle. A fragmented view of the customer is a common point of failure in AML programs.Platform must:Consolidate all customer data‚Äîfrom onboarding documents to transaction history‚Äîinto a single, unified profile, often referred to as a \"single customer view.\"Capture and verify critical information, including identity, business activities, and the ultimate beneficial ownership (UBO) structure, as well as the anticipated source of funds and wealth.Establish a dynamic baseline of expected transaction behavior for each customer, which can evolve as the customer relationship matures.Implication:&nbsp;A detailed customer profile is your primary defense against the costly issue of false positives. By creating a clear picture of what constitutes \"normal\" behavior for a specific customer, your system can more accurately identify true anomalies that warrant investigation. As noted in a&nbsp;guide by YouVerify, this not only saves investigators' time but also prevents legitimate customers from being subjected to unnecessary and intrusive investigations that can damage the business relationship.Step 3: Configure and Tune Monitoring Rules and ScenariosWith a solid risk framework and detailed customer profiles in place, you can now configure your transaction monitoring rules and scenarios. This is not a \"set and forget\" process; it requires continuous tuning and validation to remain effective against evolving threats.Platform must:Support a library of both simple, threshold-based rules (e.g., cash deposits over 10,000 EUR) and complex, multi-faceted scenarios that can detect more subtle patterns of illicit activity.Leverage machine learning and AI to detect anomalies and behavioral patterns that traditional, static rules would likely miss.Provide robust tools for back-testing and validating rule changes against historical data before deploying them into the live environment to ensure their effectiveness.Implication:&nbsp;As financial crime tactics evolve, your monitoring rules must adapt. Modern platforms that incorporate machine learning can identify new and emerging threats more effectively than legacy systems that rely solely on static rules. As highlighted in a&nbsp;2025 outlook by Forvis Mazars, financial instit",
  "wordCount": 1006,
  "keywords": "EU compliance, KYC verification, AML screening, GDPR compliance, financial regulations",
  "inLanguage": "en",
  "url": "https://veridaq.com/blog/what-is-the-first-step-in-aml-monitoring"
}
  </script>

  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Veridaq",
  "url": "https://veridaq.com",
  "logo": "https://veridaq.com/images/veridaq-logo-transparent.png",
  "description": "EU's leading KYC & AML compliance platform"
}
  </script>

  <!-- DataFeed schema for AI crawler discovery -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DataFeed",
  "dataFeedElement": {
    "@type": "DataFeedItem",
    "item": {
      "@type": "WebSite",
      "url": "https://veridaq.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://veridaq.com/sitemap.xml"
      }
    }
  },
  "includedDataCatalog": "https://veridaq.com/sitemap.xml"
}
  </script>
</head>
<body class="blog-page">
  <header class="blog-hero">
    <div class="blog-container post-hero-content">
      <nav class="breadcrumb-trail" aria-label="Breadcrumb">
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <span class="current">What Is the First Step in AML Monitoring?</span>
      </nav>
      <a class="back-pill" href="/blog/">‚Üê Back to all articles</a>
      <div class="category-badge">EU Compliance</div>
      <h1 class="post-title">What Is the First Step in AML Monitoring?</h1>
      <div class="metadata-chips">
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">üë§</span>Veridaq Team</span>
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">üìÖ</span><time datetime="2025-11-11T13:36:15.257+00:00">November 11, 2025</time></span>
        <span class="meta-chip"><span class="meta-icon" aria-hidden="true">‚è±</span>6 min read</span>
      </div>
      <div class="post-excerpt">The first crucial step in effective AML transaction monitoring is a risk-based approach. This means assessing, collecting, and profiling customer data to understand specific risks. By segmenting customers, banks can focus resources on critical areas, improving accuracy. Such a strategy ensures compliance with EU rules like 6AMLD and turns AML from a reactive cost into a proactive defense. Leveraging a modern, adaptable platform such as Veridaq is key to successfully implementing this risk-based framework.</div>
    </div>
  </header>

  

  <main class="blog-article">
    <div class="blog-container">
      <article class="blog-prose">


<h1>What is the First Step in Transaction Monitoring for AML? A Practical Guide for Banks</h1><p>In the fast-paced world of European finance, effective Anti-Money Laundering (AML) transaction monitoring is not just a regulatory requirement; it's a critical defense against financial crime. With regulations like the 6th Anti-Money Laundering Directive (6AMLD) in full effect and the upcoming Anti-Money Laundering Authority (AMLA) set to unify supervision, EU banks are under more pressure than ever to have robust systems in place. So, what is the very first step to getting it right?</p><p>The first step in transaction monitoring is not a single action but a foundational process:&nbsp;<strong>adopting a risk-based approach to assess, collect, and profile customer data.</strong>&nbsp;This initial phase is the bedrock of an effective AML compliance program, enabling banks to distinguish between normal and suspicious behavior with greater accuracy and efficiency. Without this, monitoring becomes a costly and ineffective check-box exercise that fails to keep pace with sophisticated financial criminals.</p><h2>Step 1: Establish a Risk-Based Framework</h2><p>Before you can effectively monitor transactions, you must understand and categorize the specific money laundering and terrorist financing risks your institution faces. A risk-based approach is no longer optional; it is a core expectation from EU regulators, including the&nbsp;<a href="https://www.eba.europa.eu/">European Banking Authority (EBA)</a>. This means moving away from a one-size-fits-all strategy and tailoring your monitoring efforts to where the risk is greatest.</p><p><strong>Platform must:</strong></p><ul><li>Ingest and analyze various risk factors, including customer risk profiles (e.g., PEP status), geographical locations, and the types of products and services used.</li><li>Allow for the dynamic configuration of risk-based rules and thresholds that can be adjusted as risk appetites and regulatory requirements change.</li><li>Automatically segment customers into clear risk categories (e.g., Low, Medium, High, Critical) to ensure that due diligence is proportionate to the level of risk.</li></ul><p><strong>Implication:</strong>&nbsp;A risk-based framework allows you to focus your valuable compliance resources on the highest-risk areas. This not only improves the efficiency of your compliance team but also significantly enhances the effectiveness of your detection efforts. According to&nbsp;<a href="https://www.fatf-gafi.org/">guidance from the Financial Action Task Force (FATF)</a>, such an approach is fundamental to the effective implementation of AML controls, ensuring that significant threats are not lost in the noise of low-risk alerts.</p><h2>Step 2: Comprehensive Data Collection and Profiling</h2><p>Your monitoring system is only as good as the data it analyzes. The process starts with robust Customer Due Diligence (CDD) at onboarding and continues throughout the customer lifecycle. A fragmented view of the customer is a common point of failure in AML programs.</p><p><strong>Platform must:</strong></p><ul><li>Consolidate all customer data‚Äîfrom onboarding documents to transaction history‚Äîinto a single, unified profile, often referred to as a "single customer view."</li><li>Capture and verify critical information, including identity, business activities, and the ultimate beneficial ownership (UBO) structure, as well as the anticipated source of funds and wealth.</li><li>Establish a dynamic baseline of expected transaction behavior for each customer, which can evolve as the customer relationship matures.</li></ul><p><strong>Implication:</strong>&nbsp;A detailed customer profile is your primary defense against the costly issue of false positives. By creating a clear picture of what constitutes "normal" behavior for a specific customer, your system can more accurately identify true anomalies that warrant investigation. As noted in a&nbsp;<a href="https://youverify.co/blog/transaction-monitoring-in-aml-a-complete-guide">guide by YouVerify</a>, this not only saves investigators' time but also prevents legitimate customers from being subjected to unnecessary and intrusive investigations that can damage the business relationship.</p><h2>Step 3: Configure and Tune Monitoring Rules and Scenarios</h2><p>With a solid risk framework and detailed customer profiles in place, you can now configure your transaction monitoring rules and scenarios. This is not a "set and forget" process; it requires continuous tuning and validation to remain effective against evolving threats.</p><p><strong>Platform must:</strong></p><ul><li>Support a library of both simple, threshold-based rules (e.g., cash deposits over 10,000 EUR) and complex, multi-faceted scenarios that can detect more subtle patterns of illicit activity.</li><li>Leverage machine learning and AI to detect anomalies and behavioral patterns that traditional, static rules would likely miss.</li><li>Provide robust tools for back-testing and validating rule changes against historical data before deploying them into the live environment to ensure their effectiveness.</li></ul><p><strong>Implication:</strong>&nbsp;As financial crime tactics evolve, your monitoring rules must adapt. Modern platforms that incorporate machine learning can identify new and emerging threats more effectively than legacy systems that rely solely on static rules. As highlighted in a&nbsp;<a href="https://www.forvismazars.us/insights/articles/2024/2025-top-priorities-financial-services">2025 outlook by Forvis Mazars</a>, financial institutions are increasingly prioritizing investments in AI to enhance their monitoring capabilities. Regular tuning ensures your system remains effective and minimizes "alert fatigue" from an overwhelming number of false positives.</p><h2>Selection Checklist for a Transaction Monitoring Platform</h2><p>When evaluating a transaction monitoring solution, it's crucial to look beyond the surface-level features. Use this checklist to ensure the platform can meet the demands of the modern, complex regulatory landscape overseen by bodies like the&nbsp;<a href="https://www.ecb.europa.eu/ecb/legal/1049_ssm.en.html">European Central Bank (ECB)</a>.</p><ul><li><strong>Risk-Based Customization:</strong>&nbsp;Does the platform allow for easy configuration and continuous tuning of risk-based rules and customer segmentation? Can it adapt to your institution's specific risk appetite?</li><li><strong>Holistic Data Integration:</strong>&nbsp;Can the system consolidate data from all relevant sources (core banking, CRM, onboarding tools) to create a true single customer view, as recommended by&nbsp;<a href="https://sanctions.io/blog/aml-transaction-monitoring-best-practices/">AML best practices</a>?</li><li><strong>Advanced Analytical Power:</strong>&nbsp;Does the platform incorporate explainable AI and machine learning to improve detection accuracy and provide context for alerts, rather than just flagging transactions?</li><li><strong>Scalability and Performance:</strong>&nbsp;Can the solution handle your peak transaction volumes without performance degradation? Is the architecture modern and scalable for future growth?</li><li><strong>Future-Proof Regulatory Compliance:</strong>&nbsp;Is the platform designed to meet the specific requirements of current and upcoming EU regulations, including 6AMLD and the transition to AMLA?</li><li><strong>Investigator-Centric Workflow:</strong>&nbsp;Is the user interface intuitive for investigators? Does it provide them with all the necessary contextual information to make informed and timely decisions, as detailed in&nbsp;<a href="https://sumsub.com/blog/a-guide-to-transaction-monitoring/">guides on the subject</a>?</li></ul><h2>Conclusion: A Proactive and Strategic Approach to AML Compliance</h2><p>The first step in transaction monitoring for AML is to build a strong, strategic foundation based on risk. By implementing a flexible risk-based framework, committing to comprehensive data collection, and developing detailed customer profiles, European banks can create a monitoring program that is both highly effective and remarkably efficient. This proactive approach not only ensures compliance with the complex web of current and future EU regulations but also transforms AML from a reactive cost center into a strategic, data-driven defense against financial crime.</p>


      </article>

      <section class="share-strip" aria-label="Share this article">
        <div>
          <h3>Share this article</h3>
          <p>Help others stay compliant with EU regulations</p>
        </div>
        <div class="share-links">
          <a class="share-pill" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fveridaq.com%2Fblog%2Fwhat-is-the-first-step-in-aml-monitoring" target="_blank" rel="noopener" aria-label="Share on LinkedIn">in</a>
          <a class="share-pill" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fveridaq.com%2Fblog%2Fwhat-is-the-first-step-in-aml-monitoring&text=What%20Is%20the%20First%20Step%20in%20AML%20Monitoring%3F" target="_blank" rel="noopener" aria-label="Share on Twitter">X</a>
          <a class="share-pill" href="mailto:?subject=What%20Is%20the%20First%20Step%20in%20AML%20Monitoring%3F&body=I%20thought%20you%20might%20find%20this%20EU%20compliance%20article%20interesting%3A%20https%3A%2F%2Fveridaq.com%2Fblog%2Fwhat-is-the-first-step-in-aml-monitoring"  aria-label="Share on Email">@</a>
        </div>
      </section>

      <section class="related-section">
        <h3>Related Articles</h3>
        <div class="related-grid">
      <a class="related-card" href="/blog/eu-travel-rule-2025-tfr-compliance-guide-for-banks-casps/">
        <span> EU Travel Rule 2025: TFR Compliance Guide for Banks &amp; CASPs</span>
        <p>Complete guide to EU Travel Rule compliance: TFR requirements, July 2025 deadline, penalties, and implementation strategies for banks and crypto exchanges.</p>
      </a>
    

      <a class="related-card" href="/blog/the-true-cost-of-aml-noncompliance-for-eu-banks-2025/">
        <span>The True Cost of AML Non‚ÄëCompliance for EU Banks‚ÄØ2025</span>
        <p>AML failures in 2025 cost EU banks up to ‚Ç¨150M‚Äî3‚Äì5x the fine. TD Bank‚Äôs $3B penalty shows the true scale of risk. Learn the real cost of non‚Äëcompliance.</p>
      </a>
    

      <a class="related-card" href="/blog/eu-aml-regulation-vs-directive-key-differences/">
        <span>EU AML Regulation vs Directive: Key Differences</span>
        <p>Understand the crucial difference between EU AML Regulations and Directives. Learn how AMLR and AMLD6 affect your compliance implementation before July 2027.</p>
      </a>
    </div>
      </section>

      <section class="cta-block">
        <div class="cta-icon" aria-hidden="true">‚ö°</div>
        <h3>Ready to implement these compliance strategies?</h3>
        <p>Our compliance experts can help you implement the strategies discussed in this article. Book a consultation to get personalized guidance.</p>
        <a class="cta-button" href="#contact">Get Expert Consultation ‚Üí</a>
      </section>
    </div>
  </main>

  
    <footer class="site-footer">
      <div class="blog-container">
        <div class="site-footer__grid">
          <div class="site-footer__brand">
            <a class="site-logo" href="/" aria-label="Company">
              <img src="/images/veridaq-logo-transparent.png" alt="Company" width="128" height="32">
            </a>
            <p class="site-footer__description">Veridaq delivers AI-powered compliance solutions that are 10x faster with 90% fewer false positives. Complete AML Suite for enterprises, KYC Lite for growth companies.</p>
            <div class="site-footer__contact">
              <div class="site-footer__contact-item">sales@veridaq.com</div>
              <div class="site-footer__contact-item">+45 31272726</div>
              <div class="site-footer__contact-item">Fruebjergvej 3<br>2100 Copenhagen<br>Denmark</div>
            </div>
          </div>
          <div>
            <h3 class="site-footer__heading">AI-Powered Solutions</h3>
            <ul class="site-footer__list">
              <li><a href="/#features">KYC Lite</a></li>
              <li><a href="/#features">Complete AML Suite</a></li>
              <li><a href="/#eu-compliance">EU AMLR 2027 Native</a></li>
              <li><a href="/#features">Instant Document Verification</a></li>
              <li><a href="/#features">Behavioral AI Monitoring</a></li>
              <li><a href="/#features">Predictive Risk Engine</a></li>
            </ul>
          </div>
          <div>
            <h3 class="site-footer__heading">Industries</h3>
            <ul class="site-footer__list">
              <li><a href="/#industries">Traditional Banking</a></li>
              <li><a href="/#industries">FinTech &amp; Neobanks</a></li>
              <li><a href="/#industries">Crypto &amp; Digital Assets</a></li>
              <li><a href="/#industries">High-Value Real Estate</a></li>
              <li><a href="/#industries">Gaming &amp; iGaming</a></li>
              <li><a href="/#industries">Marketplaces &amp; E-commerce</a></li>
            </ul>
          </div>
          <div>
            <h3 class="site-footer__heading">Company</h3>
            <ul class="site-footer__list">
              <li><a href="/blog/">Compliance Insights</a></li>
              <li><a href="/#benefits">Why Veridaq</a></li>
              <li><a href="/#contact">Book Demo</a></li>
              <li><a href="/privacy-policy">Privacy Policy</a></li>
              <li><a href="/terms-of-service">Terms of Service</a></li>
              <li><a href="/privacy-by-design">Privacy by Design</a></li>
            </ul>
          </div>
        </div>
        <div class="site-footer__bottom">
          <div class="site-footer__copyright">¬© 2025 Veridaq. All rights reserved. | AI-Powered Compliance Platform</div>
          <div class="site-footer__bottom-links">
            <a href="#">Bank-Grade Security</a>
            <a href="#">AMLR 2027 Ready</a>
            <a href="#">Status</a>
            <a class="emphasis" href="/#contact">Book Your Demo</a>
          </div>
        </div>
      </div>
    </footer>
  
  
    <script type="module">
      import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

      const SUPABASE_URL = "https://rjncawbywidrtwcprfgw.supabase.co";
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqbmNhd2J5d2lkcnR3Y3ByZmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4OTcyMzgsImV4cCI6MjA3MjQ3MzIzOH0.vp8ZGIhRDvJrun3YoTJLJJH8P5Dx2SheEltVBXhujjc";
      const LANGUAGE_OPTIONS = [{"code":"en","name":"English","flag":"üá¨üáß"},{"code":"da","name":"Danish","flag":"üá©üá∞"},{"code":"sv","name":"Swedish","flag":"üá∏üá™"},{"code":"no","name":"Norwegian","flag":"üá≥üá¥"},{"code":"fi","name":"Finnish","flag":"üá´üáÆ"},{"code":"de","name":"German","flag":"üá©üá™"},{"code":"fr","name":"French","flag":"üá´üá∑"},{"code":"es","name":"Spanish","flag":"üá™üá∏"},{"code":"it","name":"Italian","flag":"üáÆüáπ"},{"code":"pt","name":"Portuguese","flag":"üáµüáπ"},{"code":"nl","name":"Dutch","flag":"üá≥üá±"}];
      const SUPPORTED_LANGUAGES = ["en","da","sv","no","fi","de","fr","es","it","pt","nl"];
      const PAGE_CONTEXT = {"currentLanguage":"en","pageType":"post","currentSlug":"what-is-the-first-step-in-aml-monitoring","availableTranslations":{"fi":"mika-on-ensimmainen-askel-aml-seurannassa-pankeille","it":"qual-e-il-primo-passo-nel-monitoraggio-aml-per-banche","de":"was-ist-der-erste-schritt-der-aml-uberwachung-fur-banken","nl":"was-ist-der-erste-schritt-der-aml-uberwachung-fur-banken","da":"hvad-er-frste-skridt-i-aml-overvagning-for-banker","pt":"qual-e-o-1-passo-na-monitorizacao-aml-para-bancos","sv":"vad-ar-forsta-steget-i-aml-overvakning-for-banker","fr":"quelle-est-la-1ere-etape-de-la-surveillance-aml-pour-banques","es":"quelle-est-la-1ere-etape-de-la-surveillance-aml-pour-banques","no":"hva-er-frste-steg-i-aml-overvaking-for-banker","en":"what-is-the-first-step-in-aml-monitoring"}};
      const LANGUAGE_FLAGS = {"en":"üá¨üáß","da":"üá©üá∞","sv":"üá∏üá™","no":"üá≥üá¥","fi":"üá´üáÆ","de":"üá©üá™","fr":"üá´üá∑","es":"üá™üá∏","it":"üáÆüáπ","pt":"üáµüáπ","nl":"üá≥üá±"};
      const PREFERENCE_KEY = 'preferredLanguage';

      const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

      const normalizeLanguage = (code) => {
        if (!code) return 'en';
        const base = code.toLowerCase().split('-')[0];
        return SUPPORTED_LANGUAGES.includes(base) ? base : 'en';
      };

      const getLanguageFromPath = () => {
        const segments = window.location.pathname.split('/').filter(Boolean);
        if (segments.length > 0 && SUPPORTED_LANGUAGES.includes(segments[0])) {
          return segments[0];
        }
        return 'en';
      };

      const findTranslatedPostSlug = async (currentSlug, currentLang, targetLang) => {
        try {
          if (currentLang === targetLang) return currentSlug;

          if (currentLang === 'en') {
            const { data: postData } = await supabase
              .from('posts')
              .select('id')
              .eq('slug', currentSlug)
              .eq('status', 'published')
              .maybeSingle();

            if (!postData?.id) return null;

            const { data } = await supabase
              .from('post_translations')
              .select('slug')
              .eq('language_code', targetLang)
              .eq('published', true)
              .eq('translation_status', 'completed')
              .eq('post_id', postData.id)
              .maybeSingle();

            return data?.slug || null;
          }

          if (targetLang === 'en') {
            const { data, error } = await supabase
              .from('post_translations')
              .select('post_id')
              .eq('slug', currentSlug)
              .eq('language_code', currentLang)
              .eq('published', true)
              .maybeSingle();

            if (error || !data?.post_id) return null;

            const { data: postData } = await supabase
              .from('posts')
              .select('slug')
              .eq('id', data.post_id)
              .eq('status', 'published')
              .maybeSingle();

            return postData?.slug || null;
          }

          const { data: translationData, error: translationError } = await supabase
            .from('post_translations')
            .select('post_id')
            .eq('slug', currentSlug)
            .eq('language_code', currentLang)
            .eq('published', true)
            .maybeSingle();

          if (translationError || !translationData?.post_id) return null;

          const { data: targetData } = await supabase
            .from('post_translations')
            .select('slug')
            .eq('post_id', translationData.post_id)
            .eq('language_code', targetLang)
            .eq('published', true)
            .eq('translation_status', 'completed')
            .maybeSingle();

          return targetData?.slug || null;
        } catch (error) {
          console.error('Error finding translated post:', error);
          return null;
        }
      };

      const fetchAvailableTranslations = async (currentSlug, currentLang) => {
        try {
          const normalizedCurrent = normalizeLanguage(currentLang);
          let postId = null;

          if (normalizedCurrent === 'en') {
            const { data } = await supabase
              .from('posts')
              .select('id')
              .eq('slug', currentSlug)
              .eq('status', 'published')
              .maybeSingle();

            postId = data?.id || null;
          } else {
            const { data } = await supabase
              .from('post_translations')
              .select('post_id')
              .eq('slug', currentSlug)
              .eq('language_code', normalizedCurrent)
              .eq('published', true)
              .maybeSingle();

            postId = data?.post_id || null;
          }

          if (!postId) return {};

          const translationMap = {};

          const { data: translations } = await supabase
            .from('post_translations')
            .select('language_code, slug')
            .eq('post_id', postId)
            .eq('published', true)
            .eq('translation_status', 'completed');

          translations?.forEach(entry => {
            const baseLang = normalizeLanguage(entry.language_code);
            translationMap[baseLang] = entry.slug;
          });

          const { data: englishPost } = await supabase
            .from('posts')
            .select('slug')
            .eq('id', postId)
            .eq('status', 'published')
            .maybeSingle();

          if (englishPost?.slug) {
            translationMap.en = englishPost.slug;
          }

          return translationMap;
        } catch (error) {
          console.error('Error loading available translations:', error);
          return {};
        }
      };

      const closeMenus = () => {
        document.querySelectorAll('.language-switcher__menu').forEach(menu => {
          menu.setAttribute('hidden', '');
        });
        document.querySelectorAll('.language-switcher__toggle').forEach(toggle => {
          toggle.setAttribute('aria-expanded', 'false');
        });
      };

      const updateActiveLanguage = (language) => {
        const normalized = normalizeLanguage(language);
        document.querySelectorAll('.language-switcher').forEach((switcher) => {
          switcher.setAttribute('data-current-language', normalized);
          const toggleText = switcher.querySelector('.language-switcher__text');
          const toggleFlag = switcher.querySelector('.language-switcher__flag');
          const activeOption = LANGUAGE_OPTIONS.find(opt => opt.code === normalized) || LANGUAGE_OPTIONS[0];

          if (toggleText) toggleText.textContent = activeOption?.name || 'English';
          if (toggleFlag) toggleFlag.textContent = activeOption?.flag || LANGUAGE_FLAGS[normalized] || 'üåê';

          switcher.querySelectorAll('.language-switcher__option').forEach(option => {
            const optionLang = option.getAttribute('data-language');
            if (optionLang === normalized) {
              option.classList.add('is-active');
              option.setAttribute('aria-selected', 'true');
            } else {
              option.classList.remove('is-active');
              option.removeAttribute('aria-selected');
            }
          });
        });
      };

      const filterAvailableLanguages = (availableMap = {}) => {
        const availableLanguages = Object.keys(availableMap);
        const restrictOptions = PAGE_CONTEXT.pageType === 'post' && availableLanguages.length > 0;

        document.querySelectorAll('.language-switcher__option').forEach(option => {
          const optionLang = option.getAttribute('data-language');
          if (restrictOptions && !availableLanguages.includes(optionLang)) {
            option.setAttribute('hidden', '');
          } else {
            option.removeAttribute('hidden');
          }
        });
      };

        const handleNavigation = async (targetLanguage) => {
          const baseLanguage = normalizeLanguage(targetLanguage);
          const pathSegments = window.location.pathname.split('/').filter(Boolean);
          const supportedLanguageCodes = SUPPORTED_LANGUAGES.filter(lang => lang !== 'en');

          let currentLang = 'en';
          let pathAfterLang = [...pathSegments];

          if (pathSegments.length > 0 && supportedLanguageCodes.includes(pathSegments[0])) {
            currentLang = pathSegments[0];
            pathAfterLang = pathSegments.slice(1);
          }

          const isBlogPost = pathAfterLang.length >= 2 && pathAfterLang[0] === 'blog' && pathAfterLang[1];
          const isBlogListing = pathAfterLang.length === 1 && pathAfterLang[0] === 'blog';

          if (isBlogPost) {
            const currentSlug = pathAfterLang[1];
            const translatedSlug = await findTranslatedPostSlug(currentSlug, currentLang, baseLanguage);

            if (translatedSlug) {
              const newPath = baseLanguage === 'en'
                ? '/blog/' + translatedSlug + '/'
                : '/' + baseLanguage + '/blog/' + translatedSlug + '/';
              window.location.assign(newPath);
              return;
            }

            const fallbackPath = baseLanguage === 'en'
              ? '/blog/'
              : '/' + baseLanguage + '/blog/';
            window.location.assign(fallbackPath);
            return;
          }

          if (isBlogListing) {
            const listingPath = baseLanguage === 'en'
              ? '/blog/'
              : '/' + baseLanguage + '/blog/';
            window.location.assign(listingPath);
            return;
          }

          const defaultPath = baseLanguage === 'en' ? '/' : '/' + baseLanguage + '/';
          window.location.assign(defaultPath);
        };

      const buildMenus = (availableTranslations = {}) => {
        document.querySelectorAll('.language-switcher').forEach((switcher) => {
          const toggle = switcher.querySelector('.language-switcher__toggle');
          const menu = switcher.querySelector('.language-switcher__menu');

          if (!toggle || !menu) return;

          const savedPreference = normalizeLanguage(localStorage.getItem(PREFERENCE_KEY) || PAGE_CONTEXT.currentLanguage);
          switcher.setAttribute('data-current-language', savedPreference);
          updateActiveLanguage(savedPreference);

          toggle.addEventListener('click', (event) => {
            event.stopPropagation();
            const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
            closeMenus();
            if (!isExpanded) {
              menu.removeAttribute('hidden');
              toggle.setAttribute('aria-expanded', 'true');
            }
          });

          switcher.querySelectorAll('.language-switcher__option').forEach(option => {
            option.addEventListener('click', async () => {
              const language = option.getAttribute('data-language');
              localStorage.setItem(PREFERENCE_KEY, language);
              updateActiveLanguage(language);
              closeMenus();
              await handleNavigation(language);
            });
          });
        });

        filterAvailableLanguages(availableTranslations);
      };

      document.addEventListener('click', (event) => {
        const isMenuClick = event.target.closest('.language-switcher');
        if (!isMenuClick) {
          closeMenus();
        }
      });

      document.addEventListener('keyup', (event) => {
        if (event.key === 'Escape') closeMenus();
      });

      const setupHeaderToggle = () => {
        const toggle = document.querySelector('.site-header__menu-toggle');
        const mobileMenu = document.querySelector('[data-mobile-menu]');

        if (!toggle || !mobileMenu) return;

        toggle.addEventListener('click', () => {
          const isOpen = mobileMenu.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
          if (isOpen) {
            document.body.classList.add('menu-open');
          } else {
            document.body.classList.remove('menu-open');
          }
        });
      };

      const initialize = async () => {
        const detectedLanguage = normalizeLanguage(getLanguageFromPath());
        PAGE_CONTEXT.currentLanguage = detectedLanguage;

        let availableTranslations = PAGE_CONTEXT.availableTranslations || {};

        if (PAGE_CONTEXT.pageType === 'post' && PAGE_CONTEXT.currentSlug) {
          const latestTranslations = await fetchAvailableTranslations(PAGE_CONTEXT.currentSlug, detectedLanguage);
          availableTranslations = Object.keys(latestTranslations).length > 0 ? latestTranslations : availableTranslations;
        }

        buildMenus(availableTranslations);
        setupHeaderToggle();
      };

      initialize();
    </script>
  
</body>
</html>